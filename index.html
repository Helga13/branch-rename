<html>
    <head>
        <title>Просто я ленив</title>
    </head>
    <script>
        const playAudio = () => {
            const source = "./apihost.ru_voice.mp3";
            const audio = new Audio();
            audio.src = source;
            audio.play();
        };

        const showImage = async () => {
            document.getElementById("result").innerHTML =
                '<img src="./tenor.gif" />';
            playAudio();
            const promise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    document.getElementById("result").innerHTML = "";
                    resolve(true);
                }, 2000);
            });
            return promise;
        };
        const writeResult = (result) => {
            document.getElementById("result").innerHTML = result;
        };
        const convertValue = async () => {
            const type = document.getElementById("type").value;
            const originalName = document.getElementById("name").value;
            const id = originalName.split(" ")[0];
            const parsedName =
                id +
                originalName
                    .replace(id, "")
                    .replace(/[^a-zа-яА-Я0-9\s]/gi, "")
                    .split(" ")
                    .join("_");
            await showImage();
            writeResult(type + parsedName);
        };
    </script>
    <body>
        <h1>Просто я очень ленив</h1>

        <select id="type">
            <option value="feature/" selected>
                Feature
            </option>
            <option value="hotfix/">HotFix</option>
        </select>
        <input id="name" />
        <button onClick="convertValue();">Магия, блеат!</button>
        <h2>Лови, лентяй!</h2>
        <div id="result"></div>
    </body>
</html>
